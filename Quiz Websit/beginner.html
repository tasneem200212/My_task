<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Beginner Level</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .container {
        margin-top: 40px;
      }
      .row {
        display: flex;
        align-items: center;
      }
      .video-container {
        flex: 1;
        display: flex;
        justify-content: center;
      }
      .video-container iframe {
        width: 560px;
        height: 315px;
      }
      .text-container {
        flex: 1;
        padding-right: 30px;
      }
      .text-container h2 {
        font-size: 36px;
        margin-bottom: 20px;
      }
      .text-container p {
        font-size: 18px;
        color: #555;
      }
      span {
        color: #007bff;
      }
    </style>
  </head>
  <body>
    <header class="container-fluid">
      <div class="main-div d-flex justify-content-between align-items-center">
        <div class="logo">
          <a style="text-decoration: none" href="welcome.html"
            ><h1 style="color: black">Quiz<span>Site</span></h1></a
          >
        </div>
      </div>
    </header>

    <main class="container">
      <h2 class="text-center mb-4">BEGINNER LEVEL</h2>
      <div class="row mt-4">
        <div class="video-container">
          <!-- Video will be dynamically inserted here -->
          <iframe id="video-frame" frameborder="0" allowfullscreen></iframe>
        </div>
        <div class="text-container">
          <h2>Start Your English Learning Journey</h2>
          <p>
            Welcome to the beginner level! In this section, you'll learn the
            basics of English, starting with vocabulary and simple grammar
            rules. Watch the video to understand how to begin your learning
            process, and practice using the simple sentences and words that form
            the foundation of the language.
          </p>

          <div class="text-center mt-4">
            <a href="content.html" class="btn btn-outline-primary">Back to Levels</a>
          </div>
        </div>
      </div>
    </main>

    <script>
      // Function to fetch video details using YouTube Data API and set iframe src
      async function fetchVideoUrl() {
        try {
          const apiKey = 'AIzaSyDnQuBYsuJD2Ak5ckvmdQJXMYeV7zh_ZFc';
          const videoId = 'exIcb2_PTVM'; 

          // Make the GET request to YouTube Data API to get video info
          const response = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${videoId}&key=${apiKey}`);
          
          if (!response.ok) {
            throw new Error('Failed to fetch video details');
          }

          const data = await response.json();
          
          // Check if the response contains valid video details
          if (data.items && data.items.length > 0) {
            const videoDetails = data.items[0].snippet;

            // Extract the video URL and set it in iframe
            const videoFrame = document.getElementById('video-frame');
            videoFrame.src = `https://www.youtube.com/embed/${videoId}`;
          } else {
            console.error('No video details found');
          }
        } catch (error) {
          console.error('Error fetching video URL:', error);
        }
      }

      // Call function to load video on page load
      fetchVideoUrl();
    </script>
  </body>
</html>
